<template>
  <div class="test-panel">
    <h3>üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</h3>
    
    <div class="test-buttons">
      <button @click="runQuickTest" class="test-btn quick">
        –ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç
      </button>
      <button @click="runComprehensiveTest" class="test-btn comprehensive">
        –ü–æ–ª–Ω—ã–π —Ç–µ—Å—Ç
      </button>
      <button @click="resetGame" class="test-btn reset">
        –°–±—Ä–æ—Å–∏—Ç—å –∏–≥—Ä—É
      </button>
    </div>
    
    <div class="test-scenarios">
      <h4>–°—Ü–µ–Ω–∞—Ä–∏–∏:</h4>
      <div class="scenarios-list">
        <button 
          v-for="scenario in testScenarios"
          :key="scenario.id"
          @click="runScenario(scenario)"
          class="scenario-btn"
        >
          {{ scenario.name }}
        </button>
      </div>
    </div>
  </div>
</template>

<script setup>
import { ref } from 'vue'
import { useNotifications } from '@/composables/useNotifications'

const { showNotification } = useNotifications()

const testScenarios = ref([
  { id: 1, name: '–í—Å–µ –∏–≥—Ä–æ–∫–∏ —á–µ–∫–∞—é—Ç' },
  { id: 2, name: '–†–µ–π–∑ –∏ –∫–æ–ª–ª—ã' },
  { id: 3, name: '–¢–µ–º–Ω–∞—è –∏–≥—Ä–∞' },
  { id: 4, name: '–§–æ–ª–¥ –≤—Å–µ—Ö –∏–≥—Ä–æ–∫–æ–≤' },
  { id: 5, name: '–í—Å–∫—Ä—ã—Ç–∏–µ –∫–∞—Ä—Ç' }
])

const runQuickTest = () => {
  showNotification('–ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç –∑–∞–ø—É—â–µ–Ω', 'info')
  setTimeout(() => {
    showNotification('–ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç –∑–∞–≤–µ—Ä—à–µ–Ω ‚úÖ', 'success')
  }, 1000)
}

const runComprehensiveTest = () => {
  showNotification('–ü–æ–ª–Ω—ã–π —Ç–µ—Å—Ç –∑–∞–ø—É—â–µ–Ω', 'info')
  setTimeout(() => {
    showNotification('–ü–æ–ª–Ω—ã–π —Ç–µ—Å—Ç –∑–∞–≤–µ—Ä—à–µ–Ω ‚úÖ', 'success')
  }, 3000)
}

const resetGame = () => {
  showNotification('–ò–≥—Ä–∞ —Å–±—Ä–æ—à–µ–Ω–∞', 'warning')
  // –ó–¥–µ—Å—å –±—É–¥–µ—Ç –ª–æ–≥–∏–∫–∞ —Å–±—Ä–æ—Å–∞ –∏–≥—Ä—ã
}

const runScenario = (scenario) => {
  showNotification(`–ó–∞–ø—É—Å–∫ —Å—Ü–µ–Ω–∞—Ä–∏—è: ${scenario.name}`, 'info')
  // –ó–¥–µ—Å—å –±—É–¥–µ—Ç –ª–æ–≥–∏–∫–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å—Ü–µ–Ω–∞—Ä–∏—è
}
</script>

<style scoped>
.test-panel {
  background: white;
  padding: 20px;
  border-radius: 10px;
  box-shadow: 0 2px 10px rgba(0,0,0,0.1);
}

.test-buttons {
  display: flex;
  gap: 10px;
  margin-bottom: 20px;
}

.test-btn {
  padding: 10px 15px;
  border: none;
  border-radius: 6px;
  font-weight: bold;
  cursor: pointer;
  flex: 1;
}

.test-btn.quick {
  background: #3b82f6;
  color: white;
}

.test-btn.comprehensive {
  background: #8b5cf6;
  color: white;
}

.test-btn.reset {
  background: #ef4444;
  color: white;
}

.test-scenarios h4 {
  margin-bottom: 10px;
  color: #374151;
}

.scenarios-list {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  gap: 8px;
}

.scenario-btn {
  padding: 8px 12px;
  background: #f3f4f6;
  border: 1px solid #d1d5db;
  border-radius: 6px;
  cursor: pointer;
  font-size: 12px;
  transition: all 0.2s;
}

.scenario-btn:hover {
  background: #e5e7eb;
  border-color: #9ca3af;
}
</style>