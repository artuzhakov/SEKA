Онлайн карточная игра сека.
Описани и процессы игры:
Раздача
В начале игры каждый игрок получает по три карты рубашкой вверх. Раздающий или дилер выбирается случайным образом. на следующем круге дилер выбирается так же случайным образом.

Ставки, анте и потолок
Перед раздачей карт автоматически ставится ставка. Анте (вход) — сумма, зависящая от выбранного стола.
Первый стол
Ставка от 5 до 25 (где вход 5, потолок 25)
Второй стол
Ставка от 10 до 100 (где вход 10, потолок 100)
Третий стол
Ставка от 25 до 250 (где вход 25, потолок 250)
Четвертый стол
Ставка от 50 до 500 (где вход 50, потолок 500)
Потолок — это максимальная ставка.
Анте — это начальная ставка, ставиться перед раздачей карт в момент нажатия кнопки готов!
Если кто-то из игроков поднял потолок в первом кругу игры, остальным игрокам придется сбросить карты или поддерживать ставку до окончания игры.
Всего кругов в игре 3

Торги
При переходе хода к игроку он принимает участие в торгах. и имеет несколько вариантов ходов.

1. Упасть - сбросить карты в колоду, тем самым добровольно прекратив свое участие в текущей партии.

2. Повысить – сделать более высокую ставку, чем предыдущий игрок.

3. Вскрыться – сравнить свои карты с картами предыдущего игрока. Это действие недоступно на первом круге торгов. При выполнении этого действия игрок делает ставку, в двойном размере предыдущего игрока.(в основном применяется для вскрытия темнящего) так же можно вскрыть обычно игрока тем самым выбив его из игры!

4. Поддержать – сделать ставку, равнозначную ставке предыдущего игрока и тем самым продолжить свое участие в текущей партии.

5. Пропустить – доступно на первом кругу и только одному игроку, справа сидящему от дилера и ему же доступна функция темнить.

6. Открыть – увидеть свои карты, выйдя тем самым из режима игры «в темную» (описан далее). Это действие доступно только темнящим игрокам.

Игра «В Темную»
Суть игры в темную состоит в том, что темнящие игроки не видят своих карт до тех пор, пока продолжают темнить. Преимуществом игры «в темную» является то, что темнящий игрок вынуждает не темнящих игроков (игроков, знающих свои карты) платить вдвое больше своей ставки. Темнящие игроки компенсируют незнание карт материальным эквивалентом.

Примеры
1.1-Вскрывание происходит следующим: По началу второго круга у игроков появляется возможность вскрытия. Игрок, имеющий слово, может помимо повышения, поддержки и падения, примеч. (на втором круге игры нельзя темнить и пропускать ход) вскрыть справа сидящего игрока. Для вскрытия, вскрывающий должен дать на кон ставку которую поставил предыдущий игрок и + сверху получается (х2) Пример-(предыдущая ставка 100 игрок решил вскрыть. за вскрытие игрок должен дать 100 + ставка предыдущего игрока 100. 100+100=200).

ПРИМЕР-1.1
ПП1.1-Два вскрывающиеся игрока сверяют собственные карты друг с другом (другие игроки не знают об их картах и сами игроки не видят карты друг друга в целях безопасности. карты сверяются автоматически) примеч. тот игрок, у которого комбинация ниже, падает. пример у вскрывающего 21 у сидящего справа 20 сидящий справа падает!
ПП1.2-Если комбинации у обоих одинаковы, игроков принимающих участие в партии больше двух(то есть за столом 3 и игрок 2 вскрывает игрока 1), тогда вскрывающий падает так как был инициатором вскрывания при том что кол-во очков одинаковое!).
ПП1.3-Если игроков за столом четверо (игрок4, игрок3, игрок2, игрок1,) но в начале игры двое игроков (игрок3, игрок4) сбросили карты. оставшиеся игрок1 вскрывает игрока2 и у них одинаковое кол-во очков. игрок1-он же вскрывающий в этом случае не падает, следовательно начинается ВАРА)
1.2-ВАРА - Продолжение партии с прежним коном и с участием варящихся игроков. Игрок имеет право войти в ВАРУ, то есть вариться, дав на кон половину всего варящегося кона, сдатчиком в варе определяется рандомным способом.
ПЕРВЫЕ ГОЛОСУЮТ ТЕ КТО НЕ ПОСРЕДСТВЕННО ДЕРЖАЛ КАРТЫ В РУКАХ! ВТОРЫЕ ГОЛОСУЮТТ ТЕ КТО СБРОСИЛ КАРТЫ ИЛИ УПАЛ! ТРЕТИЕ ГОЛСУЮТ ВНОВЬ ПРИБОВШИЕ ИГРОКИ!
Вновь прибывшим для участие в варе придется заплатить полную стоимость банка!
ИГРОКИ 3-4 ВЗЯТЫ ИЗ ПРИМЕРА 1.1
ПП1.1-Игроки 3-4 которые сбросили карты в начале игры, могут принять участие в варе дав половину стоимости кона и принять участие в варе в момента голосование!( игроки 3-4 принимающие участие в варе нажав на кнопку "ЗА" автоматически списывается сумма за участие в варе) вновь прибывшие игроки не принявшие участия в партии дают полную стоимости кона собравшегося на столе в момента голосования вары! (то есть без учета средств внесенных игроками 3-4 Если они вносят половину стоимости кона стоимость кона можно увидеть на столе)
ВАРА так же бывает в обычной партии если у двух и более игроков одинаковое кол-во очков (без вскрытия игроков) по таким же условиям как в пункте 1.2
Подсчет очков
Сила карт
Комбинации карт определяют сколько очков у вас на руках. Если комбинаций нет, очки считаются просто по номиналу старшей карты.

КОМБИНАЦИИ В СЕКЕ:
Три карты, нет Джокера(6♣️), нет Туза, разные масти,(Д♠️-В♣️- К♥️) разные ранги - 10 очков.

Три карты, нет Джокера(6♣️), есть один Туз, разные масти, разные ранги - 11 очков. Пример (Д♠️-К♣️-ТУЗ♦️= 11 очков) ВСЕГДА БЕРЕТЬСЯ В ИТОГ ВЫСШАЯ КАРТА ПО КОМБИНАЦИЯМ.ТУТ ВЫСШИЙ ТУЗ ЗНАЧИТ ИТОГ 11 ОЧКОВ.

Три карты, нет Джокера(6♣️), две карты совпадают по масти(Д♣️-В♣️) (ни одна из них не Туз), разные ранги - 20 очков. ПРИМЕР(Д♣️-В♣️-10♦️)БЕРЕМ В СЧЕТ ДАМУ КРЕСТ И ВАЛЬТА КРЕСТ ИТОГ=20 ОЧКОВ.

Три карты, нет Джокера(6♣️), две карты совпадают по масти (Д♣️-Т♣️) (всего одна из них Туз), разные ранги; либо - три карты, есть Джокер(6♣️), остальные две карты - разных мастей и разных рангов, ни одна из них не Туз - 21 очко

Три карты, нет Джокера(6♣️), всего две карты - Тузы; либо - три карты, одна из них Туз, вторая Джокер(6♣️), третья не совпадает с Тузом по масти и не является Тузом - 22 очка (ДВА ЛБА)

Три карты, нет Джокера(6♣️), нет Тузов, все три карты совпадают по масти(Д♣️-В♣️-10♣️)= 30 очков (СЕКА МАСТЕЙ) ПРИМЕР(Д♥️-В♥️-10♥️)ТРИ ОДЕНАКОВЫХ МАСТИ В РЯД = 30 ОЧКОВ

Три карты, нет Джокера(6♣️), одна из карт Туз, все три карты одной масти(Д♣️-В♣️-Т♣️); либо - три карты, одна из карты Джокер(6♣️-Д♣️-В♣️), остальные две - совпадают по масти = 31 очко

Три карты, одна из которых Джокер(6крест♣️), вторая Туз♣️ и третья любая карта(Д♣️-В♣️-10♣️-К♣️), совпадающая с Тузом по масти(♣️) - 32 очка

Три карты, у всех единый ранг - 10; либо две карты ранга 10 и третья Джокер(6♣️) - СЕКА ДЕСЯТОК (33 очка)

Три карты, единый ранг - Валет; либо два Вальта и Джокер(6♣️) - СЕКА ВАЛЬТОВ (34 очка)

Три карты, единый ранг - Дама; либо две Дамы и Джокер(6♣️) - СЕКА ДАМ (35 очков)

Три карты, единый ранг - Король; либо два Короля и Джокер(6♣️) - СЕКА КОРОЛЕЙ (36 очков)

Три карты, единый ранг - Туз; либо два Туза и Джокер(6♣️) - СЕКА ТУЗОВ (37 очков)# SEKA



SEKA - Онлайн Карточная Игра Документация
https://github.com/artuzhakov/SEKA

🎴 Содержание
Обзор игры

Правила и механики

Техническая реализация

API эндпоинты

Установка и запуск

🎯 Обзор игры
SEKA - традиционная русская карточная игра для 2-6 игроков с уникальной системой ставок и механиками "темной игры".

🎲 Основные параметры
Колода: 21 карта (6-10, В, Д, К, Т) - 6♣️ выступает как Джокер

Игроки: 2-6

Круги: 3 за игру

Валюта: Койны (1 очко = 1 коин)

💰 Лимиты столов
Стол	Анте (вход)	Потолок
1	5	25
2	10	100
3	25	250
4	50	500
📖 Правила и механики
🔄 Процесс игры
Круг 1: Начальные торги
Каждый игрок получает 3 карты

Игрок справа от дилера может: ПРОПУСТИТЬ или ИГРАТЬ В ТЕМНУЮ

Если достигнут потолок → другие должны СБРОСИТЬ или ПОДДЕРЖАТЬ до конца игры

Круг 2: Основные торги
✅ Доступно действие ВСКРЫТИЕ

❌ ПРОПУСК/ТЕМНАЯ больше недоступны

Механика вскрытия: предыдущая ставка × 2

Круг 3: Финальные торги
Финальные ставки

Темнящий игрок теряет скидку 50%

🎰 Действия игроков
Доступны все круги:
СБРОСИТЬ - Сбросить карты (выбыть)

ПОВЫСИТЬ - Увеличить ставку

ПОДДЕРЖАТЬ - Уравнять текущую ставку

Только круг 1:
ПРОПУСТИТЬ - Пропустить ход (только справа от дилера)

ТЕМНАЯ - Играть вслепую (только справа от дилера)

Круги 2-3:
ВСКРЫТИЕ - Сравнить карты (ставка ×2)

ОТКРЫТЬ - Выйти из темного режима (только для темнящих)

🌙 Механика темной игры
Темнящий платит 50% от всех ставок

Повышение темнящего → следующий игрок платит двойную

Только 1 темнящий за игру

Привилегии действуют до: Конца 2-го круга

⚡ Механика вскрытия (Круг 2+)
Ставка: Предыдущая ставка × 2

Сравнение: Только с предыдущим игроком

Результаты:

Проигравший автоматически СБРАСЫВАЕТ

Ничья при 2+ игроках → инициатор СБРАСЫВАЕТ

Ничья при 2 игроках → ВАРА

🔥 ВАРА (Дополнительная игра)
Приоритет голосования:
Игроки, державшие карты (участвовали)

Игроки, сбросившие карты

Новые игроки из лобби

Стоимость входа:
Существующие игроки: 50% от текущего банка

Новые игроки: 100% от текущего банка

Время голосования: 10 секунд на игрока

🃏 Система очков
Значения комбинаций
Очки	Комбинация	Условия
10	Разные масти	Нет Джокера, Нет Тузa
11	Туз + разные	Нет Джокера, Есть Туз
20	Две одинаковые масти	Нет Джокера, Нет Тузa
21	Две одинаковые + Туз ИЛИ Джокер + разные	
22	Два Тузa ИЛИ Туз + Джокер + разные	(ДВА ЛБА)
30	Три одинаковые масти	Нет Джокера, Нет Тузoв (СЕКА МАСТЕЙ)
31	Три одинаковые + Туз ИЛИ Джокер + две одинаковые	
32	Джокер + Туз + карта той же масти	
33	Три десятки ИЛИ две десятки + Джокер	(СЕКА ДЕСЯТОК)
34	Три вальта ИЛИ два вальта + Джокер	(СЕКА ВАЛЬТОВ)
35	Три дамы ИЛИ две дамы + Джокер	(СЕКА ДАМ)
36	Три короля ИЛИ два короля + Джокер	(СЕКА КОРОЛЕЙ)
37	Три туза ИЛИ два туза + Джокер	(СЕКА ТУЗОВ)
🔧 Техническая реализация
🏗️ Архитектура
Бэкенд: Laravel PHP

Фронтенд: Vue.js

Реальное время: Laravel Echo, Pusher

Кэширование: Redis

База данных: MySQL

📁 Структура проекта
text
SEKA/
├── app/
│   ├── Application/Services/
│   │   ├── GameService.php
│   │   ├── BiddingService.php
│   │   └── CardDistributionService.php
│   ├── Http/Controllers/
│   │   └── GameController.php
│   └── Models/
├── resources/js/
│   └── components/
├── tests/
└── config/
⚙️ Основные сервисы
GameService
Создание и управление играми

Обработка готовности игроков

Переходы состояний игры

BiddingService
Обработка действий игроков

Валидация и применение ставок

Управление очередностью ходов

CardDistributionService
Создание и перемешивание колоды

Логика раздачи карт

Оценка комбинаций

🌐 API эндпоинты
Управление игрой
http
POST /api/seka/start
POST /api/seka/{gameId}/ready
POST /api/seka/{gameId}/distribute
POST /api/seka/{gameId}/action
POST /api/seka/{gameId}/clear
GET /api/seka/{gameId}/status
Действия игроков
javascript
// Доступные действия
takeAction('check')      // Пропустить
takeAction('call')       // Поддержать
takeAction('raise', amount) // Повысить
takeAction('fold')       // Сбросить
takeAction('dark')       // Темная
takeAction('open')       // Открыть
takeAction('reveal')     // Вскрытие
🚀 Установка и запуск
Требования
PHP 8.1+

MySQL 5.7+

Redis

Node.js 16+

Установка
bash
git clone https://github.com/artuzhakov/SEKA
cd SEKA
composer install
npm install
cp .env.example .env
php artisan key:generate
php artisan migrate
php artisan serve
Настройка реального времени
bash
# Настройка Pusher в .env
BROADCAST_DRIVER=pusher
PUSHER_APP_ID=your_app_id
PUSHER_APP_KEY=your_app_key
PUSHER_APP_SECRET=your_app_secret

# Запуск обработчика очередей
php artisan queue:work
🎮 Функционал игры
✅ Реализовано
Создание игры и управление игроками

Раздача карт и управление колодой

Базовая система ставок

События в реальном времени

Система готовности игроков

Механика темной игры

Валидация действий

🚧 В процессе
Система ВАРА

Полные круги торгов

Подсчет очков комбинаций

Админка для управления койнами

Система лобби

📋 Запланировано
Адаптивность для мобильных

Статистика игр

Турнирный режим

Социальные функции

🤝 Участие в разработке
Форкните репозиторий

Создайте ветку функции (git checkout -b feature/amazing-feature)

Закоммитьте изменения (git commit -m 'Add amazing feature')

Запушьте в ветку (git push origin feature/amazing-feature)

Откройте Pull Request

📞 Поддержка
Для вопросов или поддержки:

Создайте issue на GitHub

Изучите существующую документацию

Проверьте комментарии в коде

Репозиторий: https://github.com/artuzhakov/SEKA
Последнее обновление: 2024-10-21
Версия: 1.0.0

Эта документация будет обновляться по мере развития игры. Для самых актуальных деталей реализации обращайтесь к кодовой базе.

