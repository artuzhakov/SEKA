# SEKA — Логика раундов (ROUND LOGIC)

Каждая игра состоит из трёх раундов торгов:

- Раунд 1
- Раунд 2
- Раунд 3

После третьего раунда происходит финальное вскрытие (SHOWDOWN).

## Общие правила раундов

- В каждом раунде **каждый активный игрок** совершает **ровно одно действие**.
- На ход выделяется 30 секунд (см. `TIMERS.md`).
- Если игрок не успел сделать действие → AUTO-FOLD → вылет из раздачи (и, по правилам проекта, из стола в глобальное лобби).
- Действия:
  - `CHECK` (ограниченно)
  - `CALL`
  - `RAISE`
  - `REVEAL` (со 2-го раунда)
  - `FOLD`
  - выбор режима: `DARK` / `OPEN` (до действия со ставкой)

Порядок хода определяется от дилера по часовой стрелке.

---

## Раунд 1

Особенности:

- Только игрок сразу после дилера имеет право:
  - `CHECK` — пропуск хода без дополнительной ставки.
  - `DARK` — выбор режима темной игры.
- Остальные игроки:
  - не могут выбрать `DARK` в 1-м раунде;
  - не могут использовать `CHECK`;
  - могут делать: `CALL`, `RAISE`, `FOLD`, `OPEN`.

В конце Раунда 1:

- никто не вылетает автоматически по ставкам;
- вылеты только по:
  - `FOLD`
  - `AUTO-FOLD`.

---

## Раунд 2

Особенности:

- Включается `REVEAL`.
- Игрок после дилера всё ещё может выбрать `DARK`, если его режим `MODE_NONE`.
- Остальные игроки:
  - не могут выбирать `DARK`;
  - могут выбрать `OPEN` (если ещё не открылись);
  - могут использовать `REVEAL` по правилам (см. `REVEAL.md`).

Доступные действия:

- `CALL`
- `RAISE`
- `REVEAL`
- `FOLD`
- `OPEN` (если режим ещё не выбран)
- `DARK` (только для игрока после дилера, если он ещё в `MODE_NONE`)

Вылеты:

- `FOLD`
- `AUTO-FOLD`
- проигрыш в `REVEAL` (игрок становится `FOLDED` и не участвует в текущей раздаче, но остаётся за столом).

---

## Раунд 3

Особенности:

- Выбор `DARK` больше не доступен.
- Если игрок уже в DARK — он остаётся в режиме DARK, но без привилегий половинной ставки.

Доступные действия:

- `CALL`
- `RAISE`
- `REVEAL`
- `FOLD`
- `OPEN` (если режим ещё не выбран)

После Раунда 3:

- происходит финальное вскрытие всех карт (SHOWDOWN);
- подсчёт очков по `CARD_SYSTEM.md`;
- если один победитель — игра завершается;
- если несколько — запускается Свара (`SVARA.md`).
