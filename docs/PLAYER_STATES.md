# SEKA — Состояния игрока (PLAYER STATES)

## Базовые статусы

Игрок за столом может находиться в следующих состояниях:

- `LOBBY` — глобальное лобби (ещё не сел за стол)
- `TABLE_WAITING` — сидит за столом, но не участвует в текущей игре
- `TABLE_READY` — подтвердил готовность к следующей раздаче
- `IN_GAME` — участвует в текущей раздаче
- `FOLDED` — выбыл из текущей раздачи (по FOLD / REVEAL / проигрыш по очкам)
- `WON` — выиграл текущую раздачу / финальную Свару
- `LEFT` — покинул стол вручную

## Переходы

- `LOBBY` → `TABLE_WAITING` — игрок сел за стол
- `TABLE_WAITING` → `TABLE_READY` — нажал «Готов»
- `TABLE_READY` → `IN_GAME` — началась новая игра

- `IN_GAME` → `FOLDED` — игрок сделал FOLD
- `IN_GAME` → `FOLDED` — проиграл REVEAL
- `IN_GAME` → `FOLDED` — проиграл по очкам при SHOWDOWN
- `IN_GAME` → `LEFT` — нажал «Выйти со стола»
- `IN_GAME` → `LEFT` — AUTO-FOLD (таймаут) → уход в глобальное лобби
- `IN_GAME` → `WON` — выиграл игру / Свару

- `FOLDED` → `TABLE_WAITING` — после завершения игры
- `WON` → `TABLE_WAITING` — после завершения игры
- `TABLE_WAITING` → `LEFT` — игрок вышел со стола

## Режим игры (отдельный FSM)

Режимы:

- `MODE_NONE`
- `MODE_DARK`
- `MODE_OPEN`

Переходы:

- `MODE_NONE` → `MODE_DARK` (только игрок после дилера в раундах 1–2)
- `MODE_NONE` → `MODE_OPEN`
- `MODE_DARK` → `MODE_OPEN` (если игрок ещё не делал действия и не истёк таймер)
- Обратно в `MODE_DARK` из `MODE_OPEN` перейти нельзя.
