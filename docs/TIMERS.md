# SEKA — Система таймеров (TIMERS.md)

В игре используются следующие таймеры:

- таймер готовности перед игрой (`PRE-GAME TIMER`);
- таймер хода игрока (`TURN TIMER`);
- таймер резолва REVEAL (`REVEAL_RESOLVE_TIMER`);
- таймер голосования Свары (`SVARA_VOTE_TIMER`);
- таймер паузы перед следующей игрой.

---

## 1. PRE-GAME TIMER — Таймер готовности

Запускается:

- после завершения игры / Свары;
- перед началом новой раздачи.

Длительность:

```text
PRE_GAME_TIMEOUT = 10 секунд
```

Игроки должны успеть нажать «Готов».  
После истечения:

- те, кто не подтвердил готовность:
  - исключаются из игры;
  - отправляются в глобальное лобби или остаются за столом, в зависимости от реализации;
- если осталось ≥2 готовых игроков → старт игры;
- иначе стол остаётся в режиме ожидания.

---

## 2. TURN TIMER — Таймер хода игрока

Каждый раз, когда наступает очередь игрока:

```text
TURN_TIMEOUT = 30 секунд
```

За это время игрок должен:

- выбрать режим (OPEN/DARK, если доступно);
- выполнить одно действие: `CALL`, `RAISE`, `CHECK` (если доступен), `REVEAL` (если доступен), `FOLD`.

Если до истечения таймера никакое действие не выполнено:

```text
AUTO-FOLD
```

AUTO-FOLD:

- игрок выбывает из текущей раздачи;
- по правилам проекта — может означать также выход со стола в глобальное лобби.

---

## 3. REVEAL_RESOLVE_TIMER — Таймер резолва REVEAL

После того как игрок:

- выбрал REVEAL;
- внёс ставку `currentStake * 2`;
- система показала карты обоим участникам,

запускается дополнительный таймер:

```text
REVEAL_RESOLVE_TIMER = 15 секунд
```

Назначение:

- дать игрокам время увидеть карты;
- выполнить анимации на фронтенде;
- визуально показать результат.

По истечении:

- определяется проигравший (если не определён сразу);
- проигравший получает статус `FOLDED`;
- ход переходит к следующему активному игроку.

---

## 4. SVARA_VOTE_TIMER — Таймер голосований Свары

См. `SVARA.md`.

Каждый этап голосования:

```text
SVARA_VOTE_TIMEOUT = 10 секунд
```

Этапы:

1. Голосование победителей
2. Голосование проигравших игроков
3. Голосование игроков в ожидании

Если игрок не проголосовал:

```text
AUTO-NO (считается проголосовавшим «против»)
```

---

## 5. PAUSE_BEFORE_NEXT — Пауза перед новой игрой

После завершения игры:

```text
PAUSE_BEFORE_NEXT = 10 секунд
```

Используется:

- для отображения результатов;
- для подготовки интерфейса;
- перед запуском следующего `PRE-GAME TIMER`.

После паузы:

- запускается `PRE-GAME TIMER`;
- начинается цикл новой игры.
